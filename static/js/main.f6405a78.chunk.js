(this.webpackJsonpanimalapp=this.webpackJsonpanimalapp||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(12),a=n.n(c),i=n(7),s=n(2),o=n(9),j=n(8),u=n(5),l=n(4),d=n.n(l),b=n(6),h=(n(18),n(1)),p=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("upload_preset","animalapp"),n.append("file",t),e.next=5,fetch("https://api.cloudinary.com/v1_1/deildujgx/upload",{method:"POST",body:n});case 5:return r=e.sent,e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",c.secure_url);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.useState)({name:"",imgUrl:""}),t=Object(u.a)(e,2),n=t[0],c=t[1],a=function(){var e=Object(b.a)(d.a.mark((function e(t){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target,a=r.files[0],e.next=4,p(a);case 4:i=e.sent,c(Object(j.a)(Object(j.a)({},n),{},{imgUrl:i}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://primer-simulacro.herokuapp.com/animals",{method:"POST",headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify(n)});case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{id:"formulario",onSubmit:function(e){e.preventDefault()},children:[Object(h.jsx)("h2",{children:"Registro de Animales"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Nombre"}),Object(h.jsx)("input",{id:"inputNombre",name:"name",onChange:function(e){var t=e.target;c(Object(j.a)(Object(j.a)({},n),{},Object(o.a)({},t.name,t.value)))}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Imagen"}),Object(h.jsx)("input",{id:"botonImagen",type:"file",name:"imgUrl",onChange:a})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{id:"btnRegistro",onClick:i,children:"Enviar"})})]})})},x=(n(20),function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://primer-simulacro.herokuapp.com/animals");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var a=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://primer-simulacro.herokuapp.com/animals/".concat(t),{method:"DELETE"});case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)("table",{className:"tabla",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Nombre del Animal"}),Object(h.jsx)("th",{children:"Imagen"}),Object(h.jsx)("th",{children:"Acci\xf3n"})]})}),Object(h.jsx)("tbody",{children:null===n?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{children:Object(h.jsx)("h3",{children:"Cargando..."})})}):n.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:Object(h.jsx)("img",{src:e.imgUrl,alt:e.name,style:{width:"50px"}})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){return a(e.id)},style:{cursor:"pointer"},children:"Eliminar"})})]},e.id)}))})]})})}),m=(n(21),function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("nav",{children:[Object(h.jsx)(i.b,{className:"link",to:"",children:"Inicio"}),Object(h.jsx)(i.b,{className:"link",to:"/Registro",children:"Registro"}),Object(h.jsx)(i.b,{className:"link",to:"/Listar",children:"Listado"})]})}),Object(h.jsx)("hr",{})]})}),f=function(){return Object(h.jsx)("div",{children:Object(h.jsxs)(i.a,{children:[Object(h.jsx)(m,{}),Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"/Registro",element:Object(h.jsx)(O,{})}),Object(h.jsx)(s.a,{exact:!0,path:"/Listar",element:Object(h.jsx)(x,{})})]})]})})};a.a.render(Object(h.jsx)(f,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.f6405a78.chunk.js.map